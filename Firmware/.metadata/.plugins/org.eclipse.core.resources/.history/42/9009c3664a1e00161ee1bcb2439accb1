/*
 * Scheduler.c
 *
 *  Created on: May 19, 2016
 *      Author: Summer
 */



// Functions
void RunTasks(void);
void DecrementTaskTimer(void);

//defines
#define READ_PRESSURE_RESET
#define READ_TEMPS_RESET
#define READ_ACCEL_RESET
#define READ_GYRO_RESET
#define READ_MAGNETOMETER_RESET
#define TURN_ON_LED1_RESET
#define TURN_ON_LED2_RESET
#define TURN_OFF_LED1_RESET
#define TURN_OFF_LED2_RESET
#define POLL_BTN1_RESET
#define POLL_BTN2_RESET
#define TIMESTAMP_RESET
#define WRITE_TO_FLASH_RESET
#define CHECK_CLI_RESET


enum Tasks
{
	ReadPressure,
	ReadTemps,
	ReadAccel,
	ReadGyro,
	ReadMagnetometer,
	TurnOnLed1,
	TurnOnLed2,
	TurnOffLed1,
	TurnOffLed2,
	PollBtn1,
	PollBtn2,
	TimeStanp,
	WriteToFlash,
	CheckCli,
	TotalNumOfTasks //A place holder to make the compiler keep track of the last task
};


int TaskTimer[TotalNumOfTasks]; //count down to 0 when it's time to run a task




void RunTasks()
{
	if(TaskTimer[ReadTemps] == 0)
	{
		//ReadTemperature
		TaskTimer[ReadTemps] = READ_TEMPS_RESET;
	}
}


void DecrementTasks()
{
	for( int i = 0; i<TotalNumOfTasks; i++ )
	{
		TaskTimer[i] -=1;
	}
}




